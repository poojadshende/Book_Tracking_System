create or replace PROCEDURE TRACK_EMPLOYEE 
(
  V_REQUEST_ID IN NUMBER 
, V_EMPLOYEE_ID IN NUMBER 
, ERROR_MSG IN OUT VARCHAR2 
) AS
v_TRACKING_ID NUMBER;
BEGIN
  v_TRACKING_ID:=seq_emptracking_id.nextval();
  insert into EMPLOYEE_TRACKING values(v_TRACKING_ID,V_REQUEST_ID,sysdate,V_EMPLOYEE_ID);
  update REQUESTS set REQ_STATUS='COMPLETE' where REQ_ID=V_REQUEST_ID;
  delete from INCOMPLETEREQUEST where REQ_ID=V_REQUEST_ID;
  if SQL%ROWCOUNT >0 then
    ERROR_MSG:='001';
  else
    ERROR_MSG:='000';
  end if;
END TRACK_EMPLOYEE;